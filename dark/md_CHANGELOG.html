<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
		<meta http-equiv="X-UA-Compatible" content="IE=9"/>
		<meta name="generator" content="Doxygen 1.8.16"/>
		<meta name="viewport" content="width=device-width, initial-scale=1"/>
		<title>NWNX:EE: Changelog</title>
                <link href="logo-transparent.png" rel="shortcut icon" type="image/x-icon">
                <link href="logo-transparent.png" rel="apple-touch-icon-precomposed">
		<link href="tabs.css" rel="stylesheet" type="text/css"/>
		<script type="text/javascript" src="jquery.js"></script>
		<script type="text/javascript" src="dynsections.js"></script>
		<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
		<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
		<link href="doxygen.css" rel="stylesheet" type="text/css" />
		<link href="custom_dark_theme.css" rel="stylesheet" type="text/css"/>
	</head>
	<body>
	<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
		<div id="titlearea">
			<table cellspacing="0" cellpadding="0">
				<tbody>
					<tr style="height: 56px;">
						<td id="projectlogo"><img width="80" height="74" alt="Logo" src="logo-transparent.png"/></td>
						<td id="projectalign" style="padding-left: 0.5em;">
							<div id="projectname">NWNX:EE
								&#160;<span id="projectnumber">8193.10</span>
							</div>
						</td>
						<td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
					</tr>
				</tbody>
			</table>
		</div>
		<!-- end header part -->
<!-- Generated by Doxygen 1.8.16 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('md_CHANGELOG.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Changelog </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>All notable changes to this project will be documented in this file.</p>
<p>The format is based on <a href="https://keepachangelog.com/en/1.0.0/">Keep a Changelog</a>.</p>
<h1><a class="anchor" id="autotoc_md1"></a>
Unreleased</h1>
<p><a href="https://github.com/nwnxee/unified/compare/build8193.10...HEAD">https://github.com/nwnxee/unified/compare/build8193.10...HEAD</a></p>
<h2><a class="anchor" id="autotoc_md2"></a>
Added</h2>
<p>N/A</p>
<h4><a class="anchor" id="autotoc_md3"></a>
New Plugins</h4>
<p>N/A</p>
<h4><a class="anchor" id="autotoc_md4"></a>
New NWScript Functions</h4>
<p>N/A</p>
<h2><a class="anchor" id="autotoc_md5"></a>
Changed</h2>
<p>N/A</p>
<h2><a class="anchor" id="autotoc_md6"></a>
Deprecated</h2>
<p>N/A</p>
<h2><a class="anchor" id="autotoc_md7"></a>
Removed</h2>
<p>N/A</p>
<h2><a class="anchor" id="autotoc_md8"></a>
Fixed</h2>
<p>N/A</p>
<h1><a class="anchor" id="autotoc_md9"></a>
8193.9</h1>
<p><a href="https://github.com/nwnxee/unified/compare/build8193.9...build8193.10">https://github.com/nwnxee/unified/compare/build8193.9...build8193.10</a></p>
<h2><a class="anchor" id="autotoc_md10"></a>
Added</h2>
<ul>
<li>SQL: Added optional support for object storage in binary fields via an optional parameter <code>base64</code> in <code>NWNX_SQL_PreparedObjectFull</code> and <code>NWNX_SQL_ReadFullObjectInActiveRow</code></li>
<li>Events: Added OnServerCharacterSave events to ClientEvents. Called when a server vault character will be saved either manually, or when the server saves/exits.</li>
<li>ELC: Added <code>NWNX_ON_ELC_VALIDATE_CHARACTER_{BEFORE|AFTER}</code> events, can be subscribed to with NWNX_Events.</li>
<li>Events: Added skippable CastSpell event to InputEvents, the WalkToWayPoint and AttackObject events are also skippable now</li>
</ul>
<h4><a class="anchor" id="autotoc_md11"></a>
New Plugins</h4>
<p>N/A</p>
<h4><a class="anchor" id="autotoc_md12"></a>
New NWScript Functions</h4>
<ul>
<li>Creature: GetFeatGrantLevel()</li>
<li>Object: GetInternalObjectType()</li>
<li>Util: GetUserDirectory()</li>
<li>Util: PluginExists()</li>
<li>Util: GetScriptReturnValue()</li>
<li>Object: AcquireItem()</li>
<li>Object: SetFacing()</li>
</ul>
<h2><a class="anchor" id="autotoc_md13"></a>
Changed</h2>
<p>N/A</p>
<h2><a class="anchor" id="autotoc_md14"></a>
Deprecated</h2>
<ul>
<li>Creature: Get{Domain|Specialization}</li>
</ul>
<h2><a class="anchor" id="autotoc_md15"></a>
Removed</h2>
<p>N/A</p>
<h2><a class="anchor" id="autotoc_md16"></a>
Fixed</h2>
<p>N/A</p>
<h1><a class="anchor" id="autotoc_md17"></a>
8193.7</h1>
<p><a href="https://github.com/nwnxee/unified/compare/build8193.7...build8193.9">https://github.com/nwnxee/unified/compare/build8193.7...build8193.9</a></p>
<h2><a class="anchor" id="autotoc_md18"></a>
Added</h2>
<ul>
<li>SQL: <code>NWNX_SQL_PORT</code> to set the port used for MySQL database connections.</li>
<li>Events: Added OnResource{Added|Removed|Modified} events to ResourceEvents, these events fire when a file gets added/removed/modified in the /nwnx or /development folders</li>
</ul>
<h4><a class="anchor" id="autotoc_md19"></a>
New Plugins</h4>
<p>N/A</p>
<h4><a class="anchor" id="autotoc_md20"></a>
New NWScript Functions</h4>
<ul>
<li>Administration: GetServerName()</li>
<li>Events: UnsubscribeEvent()</li>
<li>Creature: Get|SetFaction()</li>
<li>Util: (Un)RegisterServerConsoleCommand()</li>
<li>Area: GetTileModuleResRef()</li>
</ul>
<h2><a class="anchor" id="autotoc_md21"></a>
Changed</h2>
<ul>
<li>Core: the console commands <code>eval</code> and <code>evalx</code> will now provide an error message if the script chunk fails to execute.</li>
<li>Damage: Added a Ranged flag to <a class="el" href="group__damage.html#gac2fbf4ab0070f31b5fde15a4afc29a99" title="Deal damage to a target.">NWNX_Damage_DealDamage()</a></li>
</ul>
<h2><a class="anchor" id="autotoc_md22"></a>
Deprecated</h2>
<p>N/A</p>
<h2><a class="anchor" id="autotoc_md23"></a>
Removed</h2>
<ul>
<li>Tweaks: Removed scroll learning freeze bugfix.</li>
</ul>
<h2><a class="anchor" id="autotoc_md24"></a>
Fixed</h2>
<ul>
<li>Optimizations: GameObjectLookup no longer breaks <code><a class="el" href="group__util.html#ga4dc71b0421a9bf57e18aa42b177d9b4b" title="Get the last created object.">NWNX_Util_GetLastCreatedObject()</a></code> and <code>NWNX_ON_DM_SPAWN_OBJECT</code> functionality.</li>
</ul>
<h1><a class="anchor" id="autotoc_md25"></a>
8193.7</h1>
<p><a href="https://github.com/nwnxee/unified/compare/build8193.6...build8193.7">https://github.com/nwnxee/unified/compare/build8193.6...build8193.7</a></p>
<h2><a class="anchor" id="autotoc_md26"></a>
Added</h2>
<ul>
<li>Events: Added OnUUIDCollision event to UUIDEvents</li>
<li>Core: <code>NWNX_CORE_LOG_ASYNC</code> variable to asynchronously flush the nwnx log to disk</li>
<li>Core: <code>NWNX_CORE_LOG_DATE</code> variable to add the date in Y-M-D format to the timestamp. Timestamps must be enabled. Default: Off</li>
<li>Tweaks: <code>NWNX_TWEAKS_ITEM_CHARGES_COST_MODE</code> to revert the cost of items with charges to 1.69 values</li>
<li>Core: <code>NWNX_CORE_NWNX_RESOURCE_DIRECTORY_PATH</code> variable to override the default path of the UserDirectory/nwnx folder</li>
</ul>
<h4><a class="anchor" id="autotoc_md27"></a>
New Plugins</h4>
<ul>
<li>Optimizations: Tweaks that (potentially) improve performance<ul>
<li>AsyncLogFlush to asynchronously flush the game log to disk</li>
<li>GameObjectLookup to speed up ObjectID to pointer lookups</li>
<li>ObjectTagLookup to speed GetObjectByTag() and similar functions</li>
</ul>
</li>
</ul>
<h4><a class="anchor" id="autotoc_md28"></a>
New NWScript Functions</h4>
<ul>
<li>Player: SetResManOverride()</li>
<li>Creature: {Get|Set}{Domain|Specialization}()</li>
<li>Util: SetInstructionLimit()</li>
<li>Area: CreateGenericTrigger()</li>
<li>Object: GetPositionIsInTrigger()</li>
</ul>
<h2><a class="anchor" id="autotoc_md29"></a>
Changed</h2>
<ul>
<li>ELC: Updated for custom spellcaster changes</li>
<li>Events: exposed TARGET and TYPE event data for DMActionEvent DumpLocals</li>
<li>Tweaks: added temporary fix for server freeze when learning a spell from a scroll (NWNX_TWEAKS_FIX_SCROLL_LEARNING_BUG)</li>
<li>Events: OnStealthExit will no longer fire if OnStealthEnter was skipped</li>
</ul>
<h2><a class="anchor" id="autotoc_md30"></a>
Deprecated</h2>
<ul>
<li>Creature: {Get|Set}{ClericDomain|WizardSpecialization}()</li>
</ul>
<h2><a class="anchor" id="autotoc_md31"></a>
Fixed</h2>
<ul>
<li>Tweaks: Fixed bug that prevented sneak attacks on flanked creatures when using NWNX_TWEAKS_SNEAK_ATTACK_IGNORE_CRIT_IMMUNITY</li>
<li>Webhook: fixed a crash that would happen when trying to send a message in the shutdown script</li>
<li>Core: POS is now saved for characters who were online when the server was shut down</li>
<li>Core: Fixed issue where POS would occasionally get corrupted and print errors to the log</li>
<li>ServerLogRedirector: Fixed dropped prefixes when using PrintString()</li>
</ul>
<h1><a class="anchor" id="autotoc_md32"></a>
8193.6</h1>
<p><a href="https://github.com/nwnxee/unified/compare/build8193.5...build8193.6">https://github.com/nwnxee/unified/compare/build8193.5...build8193.6</a></p>
<h4><a class="anchor" id="autotoc_md33"></a>
New NWScript Functions</h4>
<ul>
<li>Object: {Get|Set|Delete}{Int|String|Float}()</li>
<li>Object: DeleteVarRegex()</li>
<li>Util: AddNSSFile()</li>
<li>Util: RemoveNWNXResourceFile()</li>
</ul>
<h2><a class="anchor" id="autotoc_md34"></a>
Changed</h2>
<ul>
<li>Object: Renamed {Get|Set|Delete}Persistent{Int|String|Float}() to {Get|Set|Delete}{Int|String|Float}() and added a parameter to the latter to allow persisting of variables on a case-by-case basis</li>
<li>Util: <code>NWNX_UTIL_PRE_MODULE_START_SCRIPT_CHUNK</code> will now provide an error message if it fails to run a script chunk</li>
</ul>
<h2><a class="anchor" id="autotoc_md35"></a>
Deprecated</h2>
<ul>
<li>Object: {Get|Set|Delete}Persistent{Int|String|Float}()</li>
</ul>
<h1><a class="anchor" id="autotoc_md36"></a>
8193.5</h1>
<p><a href="https://github.com/nwnxee/unified/compare/build8193.4...build8193.5">https://github.com/nwnxee/unified/compare/build8193.4...build8193.5</a></p>
<h2><a class="anchor" id="autotoc_md37"></a>
Added</h2>
<h4><a class="anchor" id="autotoc_md38"></a>
New NWScript Functions</h4>
<ul>
<li>Administration: ReloadRules() (DANGER, DRAGONS)</li>
</ul>
<h2><a class="anchor" id="autotoc_md39"></a>
Changed</h2>
<ul>
<li>Core: NWNX now also checks the build revision of nwserver-linux when starting.</li>
</ul>
<h2><a class="anchor" id="autotoc_md40"></a>
Fixed</h2>
<ul>
<li>Tweaks: DisablePause works yet again, woo.</li>
</ul>
<h1><a class="anchor" id="autotoc_md41"></a>
8193.4</h1>
<p><a href="https://github.com/nwnxee/unified/compare/build8193.3...build8193.4">https://github.com/nwnxee/unified/compare/build8193.3...build8193.4</a></p>
<h2><a class="anchor" id="autotoc_md42"></a>
Added</h2>
<h4><a class="anchor" id="autotoc_md43"></a>
New NWScript Functions</h4>
<ul>
<li>Object: {Get|Set|Delete}Persistent{Int|String|Float}()</li>
</ul>
<h2><a class="anchor" id="autotoc_md44"></a>
Changed</h2>
<ul>
<li>Tweaks: SneakAttackCritImmunity now takes <code>FLANK_LEVEL_RANGE</code> ruleset.2da setting into account</li>
</ul>
<h1><a class="anchor" id="autotoc_md45"></a>
8193.3</h1>
<p><a href="https://github.com/nwnxee/unified/compare/build8193.2...build8193.3">https://github.com/nwnxee/unified/compare/build8193.2...build8193.3</a></p>
<h2><a class="anchor" id="autotoc_md46"></a>
Added</h2>
<ul>
<li>Events: Added skippable {Lock|Unlock} events to ObjectEvents</li>
<li>Player: GetLanguage() function</li>
</ul>
<h2><a class="anchor" id="autotoc_md47"></a>
Changed</h2>
<ul>
<li>DotNET: C# API has moved from using <code>NWN.Object</code> to plain <code>uint</code> for NWScript <code>object</code> type</li>
</ul>
<h2><a class="anchor" id="autotoc_md48"></a>
Fixed</h2>
<ul>
<li>ELC: RDDs now pass NWNX_ELC</li>
</ul>
<h1><a class="anchor" id="autotoc_md49"></a>
8193.2</h1>
<p><a href="https://github.com/nwnxee/unified/compare/build8193.1...build8193.2">https://github.com/nwnxee/unified/compare/build8193.1...build8193.2</a></p>
<h2><a class="anchor" id="autotoc_md50"></a>
Changed</h2>
<ul>
<li>Per Object Storage can now be persisted to GFF. The following variables will now persist: <code>NWNX_Player!ALWAYS_WALK</code>, <code>NWNX_Player!REST_DURATION</code>, , <code>NWNX_Player!REST_ANIMATION</code>, <code>NWNX_Creature!WALK_RATE_CAP</code>, <code>NWNX_Chat!HEARING_DISTANCE*</code>, <code>NWNX_Damage!*_EVENT_SCRIPT</code>, <code>NWNX_Feedback!*</code>, <code>NWNX_Reveal!*</code>, <code>NWNX_SkillRanks!SKILLRANK_MOD_*</code>. This means you no longer need to re-apply these to your players and objects after every restart.</li>
</ul>
<h1><a class="anchor" id="autotoc_md51"></a>
8193.1</h1>
<p><a href="https://github.com/nwnxee/unified/compare/build8193...build8193.1">https://github.com/nwnxee/unified/compare/build8193...build8193.1</a></p>
<p>Note: Some nwscript files have changed. You will need to update them and recompile all scripts.</p>
<h2><a class="anchor" id="autotoc_md52"></a>
Added</h2>
<h4><a class="anchor" id="autotoc_md53"></a>
New NWScript Functions</h4>
<ul>
<li>Area: GetMusicIsPlaying()</li>
<li>Player: GetPlatformId()</li>
</ul>
<h2><a class="anchor" id="autotoc_md54"></a>
Changed</h2>
<ul>
<li>Core: NWNX will now provide you with better error messages when you try to call a NWScript NWNX function and you haven't updated your nwnx_*.nss files or the plugin is not loaded.</li>
<li>We no longer have separate build types (except for symbols and compiler optimizations). All builds now include error messaging and handling.</li>
</ul>
<h2><a class="anchor" id="autotoc_md55"></a>
Fixed</h2>
<ul>
<li>Fixed an issue where the <code>cwd</code> value was garbled, causing plugin load to fail unless <code>NWNX_CORE_LOAD_PATH</code> was set.</li>
</ul>
<h1><a class="anchor" id="autotoc_md56"></a>
8193</h1>
<p><a href="https://github.com/nwnxee/unified/compare/build8186-lts...build8193">https://github.com/nwnxee/unified/compare/build8186-lts...build8193</a></p>
<p>NWNX has moved to 64bit. This is a major change, with many breaking changes listed below, so please examine them carefully.</p>
<p>NOTE: There may be more breaking changes added here until the next official release happens.</p>
<h2><a class="anchor" id="autotoc_md57"></a>
Added</h2>
<ul>
<li>Core: Added the environment variable <code>NWNX_CORE_ALLOW_NWNX_FUNCTIONS_IN_EXECUTE_SCRIPT_CHUNK</code> to enable NWNX function calls in ExecuteScriptChunk(), by default these will be blocked</li>
<li>Core: NWNX will now create a <code>/nwnx</code> folder in your UserDirectory, its resman priority is slightly below the <code>/development</code> folder. Currently it's used by <a class="el" href="group__object.html#ga091bdd0e7c99ed5254ca138db05d7156" title="Export an object to the UserDirectory/nwnx folder.">NWNX_Object_Export()</a> and <a class="el" href="group__util.html#gacdadf3dcc484a8cd093e18920579c5a1" title="Compiles and adds a script to the UserDirectory/nwnx folder.">NWNX_Util_AddScript()</a> to place their objects/scripts in.</li>
<li>Core: Added the environment variable <code>NWNX_CORE_CLEAN_UP_NWNX_RESOURCE_DIRECTORY</code>, setting this to true will delete all contents in the <code>/nwnx</code> folder on startup of the server. Default: false</li>
<li>Core: Added the environment variable <code>NWNX_CORE_NWNX_RESOURCE_DIRECTORY_PRIORITY</code> which lets you change the resman priority of the <code>/nwnx</code> folder. Default: 70000000</li>
<li>Core: Added the following console commands: <code>runscript</code>, <code>eval</code>, <code>evalx</code>, <code>loglevel</code>, <code>logformat</code><ul>
<li><code>runscript &lt;scriptname&gt;</code>: Executes the given nwscript. Example: <code>runscript dm_killallplayers</code></li>
<li><code>eval &lt;script chunk&gt;</code>: Executes the given nwscript chunk. Example: <code>eval ApplyEffectToObject(DURATION_TYPE_INSTANT, EffectDeath(), GetFirstPC());</code></li>
<li><code>evalx &lt;script chunk&gt;</code>: Executes the given nwscript chunk, this command already includes all nwnx headers available in the module. Example: <code>evalx <a class="el" href="group__admin.html#ga637a42678c8d730015dba00efddef6aa" title="Signals the server to immediately shut down.">NWNX_Administration_ShutdownServer()</a>;</code></li>
<li><code>loglevel &lt;plugin&gt; [&lt;loglevel&gt;]</code>: Sets or gets the log level of the given plugin. Example: Set: <code>loglevel Events 7</code>, Get: <code>loglevel Events</code></li>
<li><code>logformat [timestamp|notimestamp] [plugin|noplugin] [source|nosource] [color|nocolor] [force|noforce]</code>: Control the output format of logs. Example: <code>logformat color timestamp noplugin nosource</code></li>
</ul>
</li>
<li>Core: Added the following log related environment variables: <code>NWNX_CORE_LOG_TIMESTAMP</code>, <code>NWNX_CORE_LOG_PLUGIN</code>, <code>NWNX_CORE_LOG_SOURCE</code>, <code>NWNX_CORE_LOG_COLOR</code>, <code>NWNX_CORE_LOG_FORCE_COLOR</code></li>
<li>Util: Added the environment variable <code>NWNX_UTIL_PRE_MODULE_START_SCRIPT_CHUNK</code> which lets you set a nwscript chunk that runs before the OnModuleLoad event</li>
</ul>
<h4><a class="anchor" id="autotoc_md58"></a>
New Plugins</h4>
<p>The following plugins were added:</p><ul>
<li><b>DotNET</b>: Implement your server scripts in C# (and other dotnet languages)</li>
</ul>
<h4><a class="anchor" id="autotoc_md59"></a>
New NWScript Functions</h4>
<ul>
<li>Administration: {Get|Set}DebugValue()</li>
<li>Creature: {Get|Set}Disarmable()</li>
<li>Data: Array_Set()</li>
<li>Dialog: End()</li>
<li>Object: Export()</li>
<li>Player: PossessCreature()</li>
<li>Util: AddScript()</li>
<li>Util: GetNSSContents()</li>
<li>Weapon: GetWeaponFinesseSize()</li>
</ul>
<h2><a class="anchor" id="autotoc_md60"></a>
Changed</h2>
<ul>
<li>Administration: DeleteTURD() now returns TRUE on success</li>
<li>Data: Array_Insert() will now actually do an insert instead of a set</li>
<li>Effect: Removed the EffectID parameter from the struct</li>
<li>ELC: Updated with the new ruleset changes</li>
<li>Events: <code>NWNX_ON_ITEM_INVENTORY_{ADD|REMOVE}_ITEM_*</code> has been changed to <code>NWNX_ON_INVENTORY_{ADD|REMOVE}_ITEM_*</code></li>
<li>Itemproperty: Removed the EffectID parameter from the struct</li>
<li>SQL: The SQLite database extension has been changed to <code>.sqlite3nwnxee</code></li>
</ul>
<h2><a class="anchor" id="autotoc_md61"></a>
Removed</h2>
<ul>
<li>The following plugins were removed: JVM, Mono</li>
<li>Administration: BootPC()</li>
<li>Experimental: RemoveACABModifiersFromExpertise</li>
<li>Object: {Get|Set}EventHandler(), {Get|Set}Portrait()</li>
<li>Player: {Get|Set}VisibilityOverride()</li>
<li>Util: GenerateUUID()</li>
</ul>
<h1><a class="anchor" id="autotoc_md62"></a>
8186 LTS</h1>
<p><a href="https://github.com/nwnxee/unified/compare/build8186-2...build8186-lts">https://github.com/nwnxee/unified/compare/build8186-2...build8186-lts</a></p>
<p>NOTICE: The ABI has changed, please make sure to update your <a class="el" href="nwnx_8nss.html">nwnx.nss</a> and recompile all your scripts.</p>
<h2><a class="anchor" id="autotoc_md63"></a>
Added</h2>
<ul>
<li>Added support to skip building certain plugins by setting an environment variable, for example: <code>NWNX_SKIP_PLUGINS="JVM;Lua;Mono;Ruby;SpellChecker"</code></li>
<li>Added support to build out of tree plugins with the following environment variable: <code>NWNX_ADDITIONAL_PLUGINS=/path/to/Plugin1;/path/to/Plugin2</code></li>
<li>Added string localization support. Only Russian/Cyrillic supported at the moment. Use environment variable <code>NWNX_CORE_LOCALE=ru</code></li>
<li>Core: Allow changing default plugin state from 'load all' to 'skip all' with the following environment variable: <code>NWNX_CORE_SKIP_ALL=y</code>. Use <code>NWNX_PLUGIN_SKIP=n</code> to enable specific plugins in this case.</li>
<li>Core: Allow passing engine structures to nwnx (Effect/Itemproperty)</li>
<li>Core: Added the environment variable <code>NWNX_CORE_SHUTDOWN_SCRIPT=scriptname</code> which lets you set a nwscript that runs when the server shuts down</li>
<li>Core: Added Util functions to call various script events</li>
<li>Core: NWNX will now log the resref of areas it's trying to load when running log level <code>7</code></li>
<li>Events: New events: SkillEvents, MapEvents, EffectEvents, QuickChatEvents, InventoryEvents, BarterEvents, TrapEvents, TimingBarEvents, LevelEvents, WebHookEvents</li>
<li>Events: The following events are now skippable: FeatEvents, ItemEvents, HealersKitEvents, CombatModeEvents, PartyEvents, SkillEvents, MapEvents, PolymorphEvents, DMActionEvents, ClientConnectEvents, SpellEvents, QuickChatEvents, InventoryEvents, BarterEvents (START only), TrapEvents, StickyPlayerNameReservedEvent, StealthEvent</li>
<li>Events: You can now get the current event name with a nwscript function</li>
<li>Events: Added On{Listen/Spot}Detection events to StealthEvents</li>
<li>Events: Added On{Un}Polymorph events as PolymorphEvents</li>
<li>Events: Added Event Data for SpawnObject, GiveItem, GiveAlignment, Heal, Kill, ToggleInvulnerabilty, ForceRest, Limbo, ToggleAI, ToggleImmortal, Goto, Possess, PossessFullPower, ToggleLock, DisableTrap, JumpToPoint, JumpTargetToPoint, JumpAllPlayersToPoint, ChangeDifficulty, ViewInventory, SpawnTrapOnObject events in DMActionEvents</li>
<li>Events: Added OnClientConnect events that fire before the player sees the server vault.</li>
<li>Events: Added ItemInventory{Open/Close}, ItemInventory{Add/Remove}Item, ScrollLearn, DestroyObject and DecrementStackSize events to ItemEvents</li>
<li>Events: Added {Set|Clear}MemorizedSpellSlot events to SpellEvents</li>
<li>Events: Added AmmoReload events that are used when the engine is looking for ammunition to reload</li>
<li>Events: Added Run{Un}Equip events to ItemEvents</li>
<li>Events: Added Barter Start/End events</li>
<li>Events: Added AIAction{Disarm|Examine|Flag|Recover|Set}Trap events</li>
<li>Events: Added Timing Bar events</li>
<li>Events: Added Sticky Player Name Reserved event allowing builders to use another method instead of knownservernames.2da to validate player names and cd keys</li>
<li>Events: Added Level{Up|UpAutomatic|Down} events to LevelEvents</li>
<li>Events: Added WebHook Success/Failure events with rate limit feedback</li>
<li>Events: Added UseLoreOnItem and PayToIdentifyItem events</li>
<li>Events: Added {Add|Remove}Gold events to InventoryEvents</li>
<li>Events: Added PVP Attitude Change event</li>
<li>Events: Added SplitItem event to ItemEvents</li>
<li>Events: Added WalkToWaypoint, AttackObject and ForceMoveToObject events to InputEvents</li>
<li>Events: Added Surface Material Change events</li>
<li>Profiler: Support profiler perf scopes via nwscript</li>
<li>SQL: Added support for SQLite</li>
<li>Tweaks: DisableQuickSave</li>
<li>Tweaks: HideDMsOnCharList</li>
<li>Tweaks: DisableMonkAbilitiesWhenPolymorphed</li>
<li>Tweaks: StringToIntBaseToAuto</li>
<li>Tweaks: DeadCreatureFiresOnAreaExit</li>
<li>Tweaks: PreserveActionsOnDMPossess</li>
<li>Tweaks: FixGreaterSanctuaryBug</li>
<li>Weapon: Feat and Base Item names were added to LOG_INFO feedback</li>
<li>WebHook: Added support for richer Slack-compatible messages</li>
<li>Util: Added the environment variable <code>NWNX_UTIL_PRE_MODULE_START_SCRIPT=scriptname</code> which lets you set a nwscript that runs before the OnModuleLoad event </li>
</ul>
<h4><a class="anchor" id="autotoc_md64"></a>
New Plugins</h4>
<p>The following plugins were added:</p><ul>
<li><b>Appearance</b>: Allows the appearance and some other things of creatures to be overridden per player</li>
<li><b>Area</b>: Adds functions exposing additional area properties</li>
<li><b>CombatModes</b>: Allows subscribing to Combat Mode toggle events. The Events plugin is needed to subscribe to the CombatMode events</li>
<li><b>Effect</b>: Provides various utility functions to manipulate builtin effect types</li>
<li><b>Experimental</b>: Adds experimental functionality that's not really useful for the general user. The following environmental variable needs to be true for the plugin to load: <code>NWNX_CORE_LOAD_EXPERIMENTAL_PLUGIN=y</code></li>
<li><b>ELC</b>: A customisable replacement for ValidateCharacter: ELC &amp; ILR</li>
<li><b>Encounter</b>: Adds functions exposing additional encounter properties</li>
<li><b>Feedback</b>: Allows combatlog, feedback and 'quest journal updated' messages to be hidden globally or per player</li>
<li><b>ItemProperty</b>: Provides various utility functions to manipulate builtin itemproperty types</li>
<li><b>MaxLevel</b>: Extends support for levels up to 60</li>
<li><b>Race</b>: Provides the ability to specify a variety of inate modifiers for new or existing races or subraces via script or 2da</li>
<li><b>Regex</b>: Adds functions to search and replace strings using regular expressions.</li>
<li><b>Rename</b>: Adds functions to facilitate renaming, overriding and customization of player names</li>
<li><b>Reveal</b>: Adds functions to allow the selective revealing of a stealthed character to another character or their party.</li>
<li><b>SkillRanks</b>: Adds functions to create feats and perform actions that manipulate the calculations of skill ranks</li>
<li><b>Visibility</b>: Allows the visibility of objects to be overridden globally or per player </li>
</ul>
<h4><a class="anchor" id="autotoc_md65"></a>
New NWScript Functions</h4>
<ul>
<li>Administration: GetPlayOption()</li>
<li>Administration: SetPlayOption()</li>
<li>Administration: DeleteTURD()</li>
<li>Appearance: {Get|Set}Override()</li>
<li>Area: GetNumberOfPlayersInArea()</li>
<li>Area: GetLastEntered()</li>
<li>Area: GetLastLeft()</li>
<li>Area: GetPVPSetting()</li>
<li>Area: SetPVPSetting()</li>
<li>Area: GetAreaSpotModifier()</li>
<li>Area: SetAreaSpotModifier()</li>
<li>Area: GetAreaListenModifier()</li>
<li>Area: SetAreaListenModifier()</li>
<li>Area: GetNoRestingAllowed()</li>
<li>Area: SetNoRestingAllowed()</li>
<li>Area: GetWindPower()</li>
<li>Area: SetWindPower()</li>
<li>Area: GetWeatherChance()</li>
<li>Area: SetWeatherChance()</li>
<li>Area: GetFogClipDistance()</li>
<li>Area: SetFogClipDistance()</li>
<li>Area: GetShadowOpacity()</li>
<li>Area: SetShadowOpacity()</li>
<li>Area: GetDayNightCycle()</li>
<li>Area: SetDayNightCycle()</li>
<li>Area: {Get|Set}SunMoonColors()</li>
<li>Area: CreateTransition()</li>
<li>Area: {Get|Set}TileAnimationLoop()</li>
<li>Area: TestDirectLine()</li>
<li>Chat: GetChatHearingDistance()</li>
<li>Chat: SetChatHearingDistance()</li>
<li>Creature: GetAttackBonus()</li>
<li>Creature: GetHighestLevelOfFeat()</li>
<li>Creature: GetFeatRemainingUses()</li>
<li>Creature: GetFeatTotalUses()</li>
<li>Creature: SetFeatRemainingUses()</li>
<li>Creature: GetTotalEffectBonus()</li>
<li>Creature: SetOriginalName()</li>
<li>Creature: GetOriginalName()</li>
<li>Creature: SetSpellResistance()</li>
<li>Creature: GetPrePolymorphAbilityScore()</li>
<li>Creature: {Get|Set}MovementRateFactor()</li>
<li>Creature: Set{AnimalCompanion|Familiar}CreatureType()</li>
<li>Creature: Set{AnimalCompanion|Familiar}Name()</li>
<li>Damage: SetAttackEventScript()</li>
<li>Damage: GetAttackEventData()</li>
<li>Damage: SetAttackEventData()</li>
<li>Damage: DealDamage()</li>
<li>Effect: PackEffect()</li>
<li>Effect: UnpackEffect()</li>
<li>Effect: SetEffectExpiredScript()</li>
<li>Effect: GetEffectExpiredData()</li>
<li>Effect: GetEffectExpiredCreator()</li>
<li>Encounter: GetNumberOfCreaturesInEncounterList()</li>
<li>Encounter: GetEncounterCreatureByIndex()</li>
<li>Encounter: SetEncounterCreatureByIndex()</li>
<li>Encounter: GetFactionId()</li>
<li>Encounter: SetFactionId()</li>
<li>Encounter: GetPlayerTriggeredOnly()</li>
<li>Encounter: SetPlayerTriggeredOnly()</li>
<li>Encounter: GetResetTime()</li>
<li>Encounter: SetResetTime()</li>
<li>ELC: SetELCScript()</li>
<li>ELC: EnableCustomELCCheck()</li>
<li>ELC: SkipValidationFailure()</li>
<li>ELC: GetValidationFailureType()</li>
<li>ELC: GetValidationFailureSubType()</li>
<li>ELC: GetValidationFailureMessageStrRef()</li>
<li>ELC: SetValidationFailureMessageStrRef()</li>
<li>ELC: GetValidationFailureItem();</li>
<li>ELC: GetValidationFailureLevel();</li>
<li>ELC: GetValidationFailureSkillID();</li>
<li>ELC: GetValidationFailureFeatID();</li>
<li>ELC: GetValidationFailureSpellID();</li>
<li>Events: GetCurrentEvent()</li>
<li>Events: ToggleDispatchListMode()</li>
<li>Events: AddObjectToDispatchList()</li>
<li>Events: RemoveObjectFromDispatchList()</li>
<li>Feedback: Get{Feedback|CombatLog|JournalUpdated}MessageHidden()</li>
<li>Feedback: Set{Feedback|CombatLog|JournalUpdated}MessageHidden()</li>
<li>Feedback: Set{Feedback|CombatLog}MessageMode()</li>
<li>Item: GetBaseArmorClass()</li>
<li>Item: GetMinEquipLevel()</li>
<li>ItemProperty: PackIP()</li>
<li>ItemProperty: UnpackIP()</li>
<li>Object: GetHasVisualEffect()</li>
<li>Object: CheckFit()</li>
<li>Object: GetDamageImmunity()</li>
<li>Object: AddToArea()</li>
<li>Object: GetPlaceableIsStatic()</li>
<li>Object: SetPlaceableIsStatic()</li>
<li>Object: {Get|Set}AutoRemoveKey()</li>
<li>Object: {Get|Set}TriggerGeometry()</li>
<li>Object: {Add|Remove}IconEffect()</li>
<li>Player: ShowVisualEffect()</li>
<li>Player: ForcePlaceableInventoryWindow()</li>
<li>Player: MusicBackgroundChangeDay()</li>
<li>Player: MusicBackgroundChangeNight()</li>
<li>Player: MusicBackgroundStart()</li>
<li>Player: MusicBackgroundStop()</li>
<li>Player: MusicBattleChange()</li>
<li>Player: MusicBattleStart()</li>
<li>Player: MusicBattleStop()</li>
<li>Player: PlaySound()</li>
<li>Player: SetPlaceableUsable()</li>
<li>Player: SetRestDuration()</li>
<li>Player: ApplyInstantVisualEffectToObject()</li>
<li>Player: UpdateCharacterSheet()</li>
<li>Player: OpenInventory()</li>
<li>Player: GetAreaExplorationState()</li>
<li>Player: SetAreaExplorationState()</li>
<li>Player: SetRestAnimation()</li>
<li>Player: SetObjectVisualTransformOverride()</li>
<li>Player: ApplyLoopingVisualEffectToObject()</li>
<li>Player: SetPlaceableNameOverride()</li>
<li>Player: GetQuestCompleted()</li>
<li>Player: SetPersistentLocation()</li>
<li>Player: UpdateItemName()</li>
<li>Race: SetRacialModifier()</li>
<li>Race: GetParentRace()</li>
<li>Regex: Search()</li>
<li>Regex: Replace()</li>
<li>Rename: SetPCNameOverride()</li>
<li>Rename: GetPCNameOverride()</li>
<li>Rename: ClearPCNameOverride()</li>
<li>Reveal: RevealTo()</li>
<li>Reveal: SetRevealToParty()</li>
<li>SkillRanks: GetSkillFeat()</li>
<li>SkillRanks: GetSkillFeatCountForSkill()</li>
<li>SkillRanks: GetSkillFeatForSkillByIndex()</li>
<li>SkillRanks: SetSkillFeat()</li>
<li>SkillRanks: SetSkillFeatFocusModifier()</li>
<li>SkillRanks: GetBlindnessPenalty()</li>
<li>SkillRanks: SetBlindnessPenalty()</li>
<li>SkillRanks: GetAreaModifier()</li>
<li>SkillRanks: SetAreaModifier()</li>
<li>Util: GenerateUUID()</li>
<li>Util: GetCustomToken()</li>
<li>Util: GetEnvironmentVariable()</li>
<li>Util: EffectToItemProperty()</li>
<li>Util: ItemPropertyToEffect()</li>
<li>Util: StripColors()</li>
<li>Util: IsValidResRef()</li>
<li>Util: GetMinutesPerHour()</li>
<li>Util: SetMinutesPerHour()</li>
<li>Util: EncodeStringForURL()</li>
<li>Util: Get2DARowCount()</li>
<li>Util: Get{First|Next}ResRef()</li>
<li>Util: GetServerTicksPerSecond()</li>
<li>Util: GetLastCreatedObject()</li>
<li>Visibility: GetVisibilityOverride()</li>
<li>Visibility: SetVisibilityOverride()</li>
<li>Weapon: SetWeaponIsMonkWeapon()</li>
</ul>
<h2><a class="anchor" id="autotoc_md66"></a>
Changed</h2>
<ul>
<li>Core: The nwnx.txt logfile will now be written to the UserDirectory</li>
<li>Chat: LOG_DEBUG suppresses player to player tell specifics</li>
<li>Item: SetWeight now recomputes the possessor's encumbrance</li>
<li>Docker: Set default log level to 6</li>
<li>Docker: Skip all plugins except ServerLogRedirector by default</li>
<li>Redis: Lots of stuff, be sure to update the redis nwscripts!</li>
<li>Events: Changed <code>NUM_LEVELS</code> to <code>AMOUNT</code> for DMActionEvent GiveLevel</li>
<li>Player: StartGuiTimingBar() now accepts a type for pre-defined text</li>
</ul>
<h2><a class="anchor" id="autotoc_md67"></a>
Deprecated</h2>
<ul>
<li>Player: {Get/Set}VisibilityOverride() are deprecated, please use the new Visibility plugin!</li>
<li>Object: {Get/Set}Portrait() are deprecated, please use the native {Get/Set}PortraitResRef() functions instead!</li>
</ul>
<h2><a class="anchor" id="autotoc_md68"></a>
Removed</h2>
<ul>
<li>The following plugins were removed: Names, BehaviourTree</li>
</ul>
<h2><a class="anchor" id="autotoc_md69"></a>
Fixed</h2>
<ul>
<li>Administration: Fixed a nullptr crash in Get{DM/Player}Password()</li>
<li>Chat: Fix recursive message skipping</li>
<li>Object: GetLocalVariable and GetLocalVariableCount now work with Area and Module object</li>
<li>Events: DMActionEvents now return valid TARGET event data</li>
<li>Core: Serialization now stores locals and effects for all objects, instead of only items </li>
</ul>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
		<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
			<ul>
				<li class="footer">
					Generated on Mon Apr 13 2020 10:41:13 for NWNX:EE by <a href="http://www.doxygen.org/index.html">
					<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.16.
					<a href="../">Light version</a>
				</li>
			</ul>
		</div>
		<script src="custom.js"></script>
	</body>
</html>
