<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
		<meta http-equiv="X-UA-Compatible" content="IE=9"/>
		<meta name="generator" content="Doxygen 1.8.17"/>
		<meta name="viewport" content="width=device-width, initial-scale=1"/>
		<title>NWNX:EE: How to contribute to NWNX:EE</title>
                <link href="logo-transparent.png" rel="shortcut icon" type="image/x-icon">
                <link href="logo-transparent.png" rel="apple-touch-icon-precomposed">
		<link href="tabs.css" rel="stylesheet" type="text/css"/>
		<script type="text/javascript" src="jquery.js"></script>
		<script type="text/javascript" src="dynsections.js"></script>
		<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
		<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
		<link href="doxygen.css" rel="stylesheet" type="text/css" />
		<link href="custom_dark_theme.css" rel="stylesheet" type="text/css"/>
	</head>
	<body>
	<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
		<div id="titlearea">
			<table cellspacing="0" cellpadding="0">
				<tbody>
					<tr style="height: 56px;">
						<td id="projectlogo"><img width="80" height="74" alt="Logo" src="logo-transparent.png"/></td>
						<td id="projectalign" style="padding-left: 0.5em;">
							<div id="projectname">NWNX:EE
								&#160;<span id="projectnumber">8193.36.12</span>
							</div>
						</td>
						<td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
					</tr>
				</tbody>
			</table>
		</div>
		<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('md_CONTRIBUTING.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">How to contribute to NWNX:EE </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Thank you for your interest in contributing to NWNX:EE, all contribution are welcome. If adding a new plugin or extending an existing one, feel free to send a PR and we can hash out any details in review. For changes to core, please discuss it with us first, either through discord or on an RFC issue.</p>
<h2><a class="anchor" id="autotoc_md192"></a>
Plugins</h2>
<p>All of NWNX useful functionality comes from plugins. Plugins typically expose additional NWN engine functionality to nwscript, but also sometimes provide an interface to external tools (SQL, Redis, etc) or languages (Lua, DotNET), or simply expose various events to the developer. Adding a new plugin is no big deal, but please check first if your new functionality would be better suited in one of the existing plugins.</p>
<p>Many plugins are structured as extension methods on a given object: Object, Creature, Player, Area, Item, etc. By convention, these functions will always take the object they are operating on as the first parameter. Try to follow this convention in other plugins as well, if it makes sense.</p>
<p>Your code should be structured such that, if unused, it should have (near) zero cost and not pull additional dependencies. Some examples:</p>
<ul>
<li>If you are adding support for a new language, as a separate plugin, anyone who does not want to use it will just skip the plugin. No additional action necessary on your part.</li>
<li>If you are adding a new backend for an existing plugin (e.g. alternative SpellChecker library), be sure there's no compile- or load-time dependencies unless someone explicitly opts in to use it. This usually means using <code>dlsym()</code> to get function pointers from the library.</li>
<li>If you are exposing additional events in an existing plugin, do not hook them until the user has indicated they want to use them (either via an env. variable or nwscript call). See the Events plugin for examples.</li>
</ul>
<h2><a class="anchor" id="autotoc_md193"></a>
C++ Guidelines</h2>
<ol type="1">
<li>Avoid unnecessary abstractions.</li>
<li>Avoid overly OOP design. Chances are what you want is just a function.</li>
<li>Sometimes a macro is better than a template. Use common sense, do not shy away from C features.</li>
<li>Never use non-const references as arguments. If a function will change the value of an object, pass it as a pointer.</li>
<li>Do not write your own alternatives to C++ standard library features (e.g. std::optional, std::variant, etc).</li>
<li>Avoid manual memory management. Use std::unique_ptr or stack allocations.</li>
<li>Never do memory patching hacks. Plugin services provide a way to hook function calls, use those. If there is a problem you don't know how to solve other than patching a memory address, speak to us first.</li>
<li>Use modern C++ features such as foreach loops and <code>auto</code>. It is advised that when dealing with pointers or references, you explicitly qualify <code>auto</code> as <code>auto&amp;</code> or <code>auto*</code>.</li>
<li>Use <code>#pragma once</code> instead of include guards.</li>
<li>Be wary of unnecessary copies. Use rvalues and <code>std::move</code> where appropriate.</li>
<li>Exception use is acceptable. In case of error when processing a nwscript invoked function, throw an exception.</li>
<li>Use core provided utilities (logging, asserts, etc) and services (config, messaging, etc) whenever possible. If you have a need these services don't meet, file an RFE.</li>
<li>Update the <a class="el" href="CHANGELOG_8md.html">changelog</a> whenever making a user-facing change (e.g. adding a new nwscript function)</li>
</ol>
<p>Additionally, please observe coding style rules:</p>
<ol type="1">
<li>Prefix members variables with m_, static globals with s_.</li>
<li>Use lowerCamelCase for variables.</li>
<li>Use UpperCamelCase for functions.</li>
<li>Use UpperCamelCase for classes.</li>
<li>Use ALL_CAPS for macros.</li>
<li>Namespaced::UpperCamelCase for constants.</li>
<li>Braces always start on a new line and always end on a new line.</li>
<li>Spaces, not tabs.</li>
<li>Newline at the end of file</li>
<li>C++ header files have .hpp extension. Source files have .cpp extension.</li>
</ol>
<h2><a class="anchor" id="autotoc_md194"></a>
NWScript Guidelines</h2>
<p>We use DoxyGen to automatically generate our documentation, please have a look at existing .nss files to familiarize yourself with the layout of the NWNX:EE NWScript files.</p>
<p>When exposing a function to nwscript, name it as <code>NWNX_&lt;PluginName&gt;_&lt;FunctionName&gt;()</code>. If possible, the function should be implemented in <code>&lt;PluginName&gt;.cpp</code>, with the same <code>&lt;FunctionName&gt;</code> as specified in nwscript, and the function name string passed to core should match that as well.</p>
<p>If at all possible, write unit tests for your new feature in <code>nwnx_&lt;pluginname&gt;_t.nss</code>. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
		<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
			<ul>
				<li class="footer">
					Generated on Tue Mar 5 2024 20:38:11 for NWNX:EE by <a href="http://www.doxygen.org/index.html">
					<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.17.
					<a href="../">Light version</a>
				</li>
			</ul>
		</div>
		<script src="custom.js"></script>
	</body>
</html>
